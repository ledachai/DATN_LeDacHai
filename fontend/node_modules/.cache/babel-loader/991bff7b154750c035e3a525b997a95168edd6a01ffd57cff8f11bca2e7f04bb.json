{"ast":null,"code":"var _jsxFileName = \"H:\\\\MonHoc\\\\DATN\\\\DATN_LeDacHai\\\\fontend\\\\src\\\\Components\\\\OrderDetail\\\\OrderDetail.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport OrderDetailList from \"./OrderDetailList\";\nimport ThongKeList from \"./ThongKeList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass OrderDetail extends Component {\n  constructor() {\n    super();\n    this.ButtonThongKe = year => {\n      let url = \"https://localhost:5001/api/V1/OrderDetail/\" + year;\n      //console.log(url)\n      this.getThongKe(url);\n    };\n    this.openListThongKe = () => {\n      this.setState({\n        showListOrderDetail: !this.state.showListOrderDetail,\n        showListThongKe: !this.state.showListThongKe\n      });\n    };\n    this.formatMoney = moneyinput => {\n      let money = Math.round(moneyinput);\n      if (money && !isNaN(money)) {\n        return money.toString().replace(/(\\d)(?=(\\d{3})+(?:\\.\\d+)?$)/g, \"$1.\");\n      } else {\n        return money;\n      }\n    };\n    this.formatDate = dateSrc => {\n      let date = new Date(dateSrc),\n        year = date.getFullYear().toString(),\n        month = (date.getMonth() + 1).toString().padStart(2, '0'),\n        day = date.getDate().toString().padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    };\n    this.renderOrderDetail = () => {\n      return this.state.OrderDetail.map((data, index) => {\n        // if(data.role !== \"admin\"){\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.order_Fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.order_Address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.order_Phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: data.pro_Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: '40px',\n                height: '40px'\n              },\n              src: '../img/' + data.pro_Image,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [data.pro_Number, \" s\\u1EA3n ph\\u1EA9m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [this.formatMoney(data.cart_Pay), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: this.formatDate(data.order_Date)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 23\n          }, this)]\n        }, data.order_ID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 19\n        }, this);\n        // }\n      });\n    };\n    this.renderThongKeList = () => {\n      return this.state.ThongKe.map((data, index) => {\n        // if(data.role !== \"admin\"){\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"Th\\xE1ng \", data.month]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [data.count, \" s\\u1EA3n ph\\u1EA9m\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [this.formatMoney(data.pay), \" \\u0111\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this);\n        // }\n      });\n    };\n    this.state = {\n      OrderDetail: [],\n      showListOrderDetail: true,\n      showListThongKe: false,\n      ThongKe: [],\n      order_ID: '',\n      defaultUrl: \"https://localhost:5001/api/V1/OrderDetail\"\n    };\n  }\n  getConfigToken() {\n    let config = {\n      headers: {\n        \"Authorization\": 'Bearer ' + localStorage.getItem(\"Token\"),\n        \"Content-type\": \"application/json\"\n      }\n    };\n    return config;\n  }\n  componentDidMount() {\n    let config = this.getConfigToken();\n    axios.get(this.state.defaultUrl, config).then(response => {\n      this.setState({\n        OrderDetail: response.data\n      });\n    });\n  }\n  getThongKe(url) {\n    let config = this.getConfigToken();\n    axios.get(url, config).then(response => {\n      this.setState({\n        ThongKe: response.data\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(OrderDetailList, {\n        renderOrderDetail: this.renderOrderDetail,\n        showListOrderDetail: this.state.showListOrderDetail,\n        openListThongKe: this.openListThongKe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(ThongKeList, {\n        renderThongKeList: this.renderThongKeList,\n        showListThongKe: this.state.showListThongKe,\n        openListThongKe: this.openListThongKe,\n        ButtonThongKe: this.ButtonThongKe\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }, this);\n  }\n}\nexport default OrderDetail;","map":{"version":3,"names":["React","Component","axios","OrderDetailList","ThongKeList","OrderDetail","constructor","ButtonThongKe","year","url","getThongKe","openListThongKe","setState","showListOrderDetail","state","showListThongKe","formatMoney","moneyinput","money","Math","round","isNaN","toString","replace","formatDate","dateSrc","date","Date","getFullYear","month","getMonth","padStart","day","getDate","renderOrderDetail","map","data","index","order_Fullname","order_Address","order_Phone","pro_Name","width","height","pro_Image","pro_Number","cart_Pay","order_Date","order_ID","renderThongKeList","ThongKe","count","pay","defaultUrl","getConfigToken","config","headers","localStorage","getItem","componentDidMount","get","then","response","render"],"sources":["H:/MonHoc/DATN/DATN_LeDacHai/fontend/src/Components/OrderDetail/OrderDetail.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport OrderDetailList from \"./OrderDetailList\";\nimport ThongKeList from \"./ThongKeList\";\n\nclass OrderDetail extends Component {\n  constructor() {\n      super();\n      this.state = {\n          OrderDetail: [],\n          showListOrderDetail: true,\n          showListThongKe: false,\n          ThongKe: [],\n          order_ID: '',\n          defaultUrl: \"https://localhost:5001/api/V1/OrderDetail\",\n      }\n  }\n  getConfigToken() {\n      let config = {\n          headers: {\n              \"Authorization\": 'Bearer ' + localStorage.getItem(\"Token\"),\n              \"Content-type\": \"application/json\"\n          }\n      };\n      return config;\n  }\n    ButtonThongKe = (year) => {\n        let url = \"https://localhost:5001/api/V1/OrderDetail/\" + year;\n        //console.log(url)\n        this.getThongKe(url);\n    }\n    componentDidMount() {\n      let config = this.getConfigToken();\n      axios.get(this.state.defaultUrl, config)\n          .then((response) => {\n              this.setState({\n                  OrderDetail: response.data\n              })\n          });\n    }\n    getThongKe(url){\n        let config = this.getConfigToken();\n        axios.get(url, config)\n            .then((response) =>{\n                this.setState({\n                    ThongKe: response.data\n                })\n            });\n    }\n  openListThongKe = () => {\n    this.setState({\n        showListOrderDetail: !this.state.showListOrderDetail,\n        showListThongKe: !this.state.showListThongKe\n    })\n  }\n  // Hàm format số tiền\n  formatMoney = moneyinput => {\n    let money = Math.round(moneyinput);\n    if(money && !isNaN(money)){\n        return money.toString().replace(/(\\d)(?=(\\d{3})+(?:\\.\\d+)?$)/g, \"$1.\");\n    }else{\n        return money;\n    }\n  }\n  // Format ngày tháng\n  formatDate = dateSrc => {\n    let date = new Date(dateSrc),\n        year = date.getFullYear().toString(),\n        month = (date.getMonth() + 1).toString().padStart(2, '0'),\n        day = date.getDate().toString().padStart(2, '0');\n\n    return `${year}-${month}-${day}`;\n  }\n  // FOR DISPLAY LIST DATA\n  renderOrderDetail = () => {\n      return this.state.OrderDetail.map((data, index) => {\n          // if(data.role !== \"admin\"){\n              return (\n                  <tr key={data.order_ID}>\n                      {/* <td>{data.cate_ID}</td> */}\n                      <td>{data.order_Fullname}</td>\n                      <td>{data.order_Address}</td>\n                      <td>{data.order_Phone}</td>\n                      <td>{data.pro_Name}</td>\n                      <td><img style={{width: '40px', height: '40px'}}  src={'../img/'+data.pro_Image} alt=\"\" /></td>\n                      <td>{data.pro_Number} sản phẩm</td>\n                      <td>{this.formatMoney(data.cart_Pay)} đ</td>\n                      <td>{this.formatDate(data.order_Date)}</td>\n                  </tr>\n              );\n          // }\n      }\n      );\n  }\n  //render thống kê chi tiết\n  renderThongKeList = () => {\n    return this.state.ThongKe.map((data, index) => {\n        // if(data.role !== \"admin\"){\n            return (\n                <tr>\n                    <td>Tháng {data.month}</td>\n                    <td>{data.count} sản phẩm</td>\n                    <td>{this.formatMoney(data.pay)} đ</td>\n                </tr>\n            );\n        // }\n    }\n    );\n}\n  render() {\n      return (\n          <div className=\"container\">\n              <OrderDetailList\n                  renderOrderDetail={this.renderOrderDetail}\n                  showListOrderDetail={this.state.showListOrderDetail}\n                  openListThongKe={this.openListThongKe}\n              />\n              <ThongKeList\n                  renderThongKeList={this.renderThongKeList}\n                  showListThongKe={this.state.showListThongKe}\n                  openListThongKe={this.openListThongKe}\n                  ButtonThongKe={this.ButtonThongKe}\n              />\n          </div>\n      );\n  }\n}\nexport default OrderDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}